datasource db {
    provider     = "mongodb"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id             String           @id @default(uuid()) @map("_id")
    mis_id         String           @unique
    email          String?          @unique
    name           String?
    firstName      String?
    lastName       String?
    password       String?
    isGamer        Boolean          @default(false)
    createdAt      DateTime         @default(now())
    updatedAt      DateTime         @updatedAt
    UserPrediction UserPrediction[]
}

model UserPrediction {
    id         String               @id @default(uuid()) @map("_id")
    user       User                 @relation(fields: [userId], references: [id])
    userId     String
    matchId    String
    prediction Prediction
    status     UserPredictionStatus
}

enum UserPredictionStatus {
    NOT_MARKED
    MARKED
}

type Prediction {
    manOfTheMatch        String
    firstTeamToScore     String
    homeScore            Int
    awayScore            Int
    highestScoringPlayer String
}

model UserScore {
    id     String @id @default(uuid()) @map("_id")
    score  Int
    mis_id String
}
